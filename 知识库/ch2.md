## 合并处理文档时系统命令和pandoc命令的优劣比较

### **1. 系统命令（`cat`/`type`/Python）**
#### **✅ 优点**
- **100% 保留原始内容**  
  直接拼接文件字节流，不解析任何语法（HTML/LaTeX/Markdown 均原样保留）。
- **无依赖**  
  不需要安装额外工具（`cat`/`type` 是系统内置命令）。
- **速度快**  
  直接操作文件流，适合大文件合并。

#### **❌ 缺点**
- **无智能处理能力**  
  只是简单拼接，无法实现以下功能：
  - 自动调整标题层级（如将 `# 标题` 改为 `## 标题`）。
  - 处理交叉引用（如 `[Section 1](#1.1.12)`）。
  - 合并重复的 YAML 元数据（如多文件的 `---` 头信息）。
- **可能需手动处理分隔符**  
  文件合并处可能需要手动添加分页符（如 `\n---\n`）。

#### **📌 适用场景**
- 需要 **绝对原始内容**，不允许任何修改。
- 合并后的文件无需进一步格式化或交叉引用。

---

### **2. Pandoc 命令**
#### **✅ 优点**
- **智能处理 Markdown 语法**  
  - 可调整标题层级（`--shift-heading-level-by=1`）。
  - 解析交叉引用（如 `[@cite]` 或 `[Section 1](#anchor)`）。
  - 合并 YAML 元数据（需配合 `--template` 或过滤器）。
- **支持多种输入/输出格式**  
  可处理 Markdown、HTML、LaTeX 等格式的混合内容。
- **可定制性强**  
  通过 `--filter` 添加 Lua/Python 脚本实现高级功能。

#### **❌ 缺点**
- **默认会修改内容**  
  即使使用 `-t markdown-raw_html`，仍可能对某些语法（如代码块、表格）进行标准化。
- **依赖 Pandoc 环境**  
  需额外安装，且版本差异可能导致输出不同。
- **性能开销**  
  解析和渲染需要时间，大文件合并较慢。

#### **📌 适用场景**
- 需要 **智能合并**（如调整标题、处理引用）。
- 合并后需进一步渲染（如生成 PDF/HTML）。

---

### **⚡ 终极对比表**
| 特性                | 系统命令 (`cat`/`type`) | Pandoc                  |
|---------------------|------------------------|-------------------------|
| **内容保留**        | ✅ 100% 原始            | ⚠️ 可能修改 HTML/LaTeX  |
| **标题调整**        | ❌ 不支持               | ✅ 支持                 |
| **交叉引用**        | ❌ 不支持               | ✅ 支持                 |
| **YAML 元数据处理** | ❌ 不支持               | ✅ 支持                 |
| **速度**            | ⚡ 极快                 | 🐢 较慢（需解析）       |
| **依赖项**          | 无                     | 需安装 Pandoc           |


